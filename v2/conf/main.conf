{
	"version": "2.1.0",
	"author": "Matz Nano Larsson",
	"date": "2017-10-17",
	"logging": 10,
	"variables": {
		"colorlists": {
			"ultrasonic":[
				"{colors.white}", "{colors.red}", "{colors.blue}", "{colors.darkgreen}", { "white": 125 }
			]
		},
		"colors": {
			"white":		{ "white": 255 },
			"red":			{ "red": 255 },
			"brown":		{"red": 255, "green": 255 },
			"yellow":		{ "red": 128, "green": 0, "blue": 128 },
			"darkgreen":	{ "red": 0, "green": 128, "blue": 0 },
			"blue":			{ "blue": 128 },
			"darkred":		{ "red": 128 },
			"orange":		{ "red": 255, "green": 128 }
		},
		"sounds": {
			"piano": { "path": "data/sounds/piano.wav" }
		}
	},	
	"extensioncards":[
		{
			"name": "MPC23017", "address": 32, "startpin": 100,
			"registers":[
				{ "name": "Register A", "size": 8, "datareg": 20, "dirreg": 0 },
				{ "name": "Register B", "size": 8, "datareg": 21, "dirreg": 1 }
			]
		}
	],
	"sensors": [
		{ "type": "button", "pin": 12, "id": "button1" },
		{ "type": "button", "pin": 16, "id": "button2" },
		{ "type": "button", "pin": 20, "id": "button3" },
		{ "type": "button", "pin": 21, "id": "button4" },
		{ "type": "button", "pin":  5, "id": "button5", "holdInterval":1 },
		{ "type": "button", "pin":  6, "id": "button6" },
		{ "type": "button", "pin": 13, "id": "button7" },
		{ "type": "button", "pin": 19, "id": "button8" },
		{ "type": "button", "pin": 26, "id": "button9", "holdInterval":1 },
		{ "type": "ultrasonic", "id": "ultrasonic1", "trigger": 14, "echo": 15, "mindetect": 5, "maxdetect": 50, "minsleep": -1, "maxsleep": -1, "allowedmisreads": 5 },
		{ "type": "ultrasonic", "id": "ultrasonic2", "trigger": 18, "echo": 17, "mindetect": 5, "maxdetect": 50, "minsleep": -1, "maxsleep": -1, "allowedmisreads": 5 },
		{ "type": "ir", "id": "ir", "configuration": "conf/lirc_conf" },
        { "type": "rfid", "id": "rfid", "device": "/dev/input/event0" }
	],
	"statusindicators":[
		{ "type":"led", "id": "led1", "pin": 105, "blink":"lights.selecting.0", "static":"lights.selected.0" },
		{ "type":"led", "id": "led2", "pin": 106, "blink":"lights.selecting.1", "static":"lights.selected.1" },
		{ "type":"led", "id": "led3", "pin": 107, "blink":"lights.selecting.2", "static":"lights.selected.2" },
        { "type":"ledscreen", "id": "screen", "rs": 25, "en": 24, "data": [23, 10, 9, 11] }
	],
	"events": {
		"default": {
			"button1.press":	{ "module": "lights", "command": "toggleselect", "id":0 },
			"button2.press":	{ "module": "lights", "command": "toggleselect", "id":1 },
			"button3.press":	{ "module": "lights", "command": "toggleselect", "id":2 },
			"button4.press":	{ "module": "lights", "command": "activate" },
			"button5.press":	{ "module": "lights", "command": "deactivate" },
			"button6.press":	{ "module": "lights", "command": "setcolor", "color": "{colors.white}" },
			"button7.press":	{ "module": "lights", "command": "setcolor", "color": "{colors.red}" },
			"button1.hold":[
				{ "module": "lights", "command": "setcolor", "color": "{colors.brown}", "holdMinInclusive": 1, "holdMax": 2 }
			],
			"button8.press":	{ "module": "lights", "command": "setcolor", "color": "{colors.yellow}" },
			"button9.press":	{ "module": "lights", "command": "setcolor", "color": "{colors.darkgreen}" },
			"button9.hold":[
				{ "module": "lights", "command": "setcolor", "color": "{colors.blue}", "holdMinInclusive": 1, "holdMax": 2 },
				{ "module": "lights", "command": "setcolor", "color": "{colors.darkred}", "holdMinInclusive": 2, "holdMax": 3 },
				{ "module": "lights", "command": "setcolor", "color": "{colors.orange}", "holdMinInclusive": 3, "holdMax": 4 }
			],
			"ultrasonic1.change":	{ "module": "lights", "command": "setcolorlist", "list": "{colorlists.ultrasonic}", "index": "{VALUE}" },
			"ultrasonic2.change[OffTemporary]": { "module": "lights", "command": "setdimmer", "value": "{VALUE}" },
			"ir.left":				{ "module": "lights", "command": "decdimmer", "decrease": 0.1 },
			"ir.right":				{ "module": "lights", "command": "incdimmer", "increase": 0.1 },
			"ir.up":				{ "module": "lights", "command":"setrelcolorlist", "list": "{colorlists.ultrasonic}", "change": 1 },
			"ir.down":				{ "module": "lights", "command": "setrelcolorlist", "list": "{colorlists.ultrasonic}", "change": -1 },
			"ir.toggleActive":		{ "module": "event", "command": "setstate", "state": "test"},
			"ir.toggleActiveOld":	{ "module": "event", "command": "togglesensor", "sensor": "ir" },
            "rfid.0003186452":      { "module": "event", "command": "setstate", "state": "default1" },
            "rfid.0002308237":      { "module": "event", "command": "setstate", "state": "default2" },
            "rfid.0002668822":      { "module": "event", "command": "setstate", "state": "default3" },
            "rfid.0003166174":      { "module": "event", "command": "setstate", "state": "default4" },
            "rfid.0002686601":      { "module": "event", "command": "setstate", "state": "default5" },
            "rfid.0000429859":      { "module": "event", "command": "setstate", "state": "default6" },
            "rfid.0003002657":      { "module": "event", "command": "setstate", "state": "default7" },
            "rfid.0003167070":      { "module": "event", "command": "setstate", "state": "default8" },
            "rfid.0002622288":      { "module": "event", "command": "setstate", "state": "default9" },
            "rfid.0003162239":      { "module": "event", "command": "setstate", "state": "default10" }
		},
		"test": "test.conf"
	}
}